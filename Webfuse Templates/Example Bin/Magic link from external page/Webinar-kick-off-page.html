<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="icon" type="image/png"
        href="https://cdn.prod.website-files.com/66fa5c211b77ce188d5275f6/6752cfb0d2935e66e4d7d1a1_favicon-webfuse.png">
    <title>Webinar: Create</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --background-color--background-primary: var(--base-color-brand--dark);
            --background-color--dark-blue: #0a205e;
            --background-color--dark-green: #1f3c30;
            --base-color-brand--off-white: #f7f7f7;
            --base-color-brand--light-gray: silver;
            --link-color--link-alternate: var(--base-color-brand--off-white);
            --radius--radius-main: 1rem;
            --base-color-brand--blue: #3d93ef;
            --base-color-brand--purple: #4d65ff;
            --base-color-brand--dark: #0b0b0b;
            --base-color-neutral--black: black;
            --base-color-neutral--white: white;
            --radius--radius-round: 100vw;
            --text-color--text-alternate: var(--base-color-brand--dark);
            --text-color--text-error: var(--base-color-system--error-red);
            --base-color-brand--surfly-red\<deleted\|variable-1afb0c92-2bd9-c4f4-1504-2eef5d82bb1d\>: #e54747;
            --base-color-brand--anti-flash-white\<deleted\|variable-e1fd5e82-b7f7-46af-b5ce-491069f79607\>: #ececec;
            --background-color--background-alternate: var(--base-color-brand--off-white);
            --link-color--link-primary: var(--base-color-brand--dark);
            --text-color--text-primary: var(--base-color-brand--off-white);
            --radius--radius-small: .5rem;
            --base-color-neutral--neutral-lighter: #ccc;
            --base-color-neutral--neutral-lightest: #eee;
            --base-color-neutral--neutral-light: #aaa;
            --base-color-neutral--neutral: #666;
            --base-color-neutral--neutral-dark: #444;
            --base-color-neutral--neutral-darker: #222;
            --base-color-neutral--neutral-darkest: #111;
            --base-color-system--success-green: #027a48;
            --base-color-system--success-light-green: #57ff53;
            --base-color-system--success-green-light: #ecfdf3;
            --base-color-system--error-red: #b42318;
            --base-color-system--error-red-light: #fef3f2;
            --radius--radius-large: 1.5rem;
            --background-color--background-success: var(--base-color-system--success-green-light);
            --background-color--background-error: var(--base-color-system--error-red-light);
            --border-color--border-alternate: var(--base-color-brand--off-white);
            --text-color--text-success: var(--base-color-system--success-green);
        }

        body {
            overflow: hidden;
            color: var(--base-color-brand--off-white);
            font-family: Inter, sans-serif;
            width: 100vw;
            height: 100vh;
            font-size: 1rem;
            font-weight: 400;
            line-height: 1.4;
            background: linear-gradient(to top left, var(--background-color--dark-green), var(--base-color-brand--dark), var(--background-color--dark-blue));
            background-size: 200% 200%;
            animation: gradientBreathing 10s infinite ease-in-out alternate;
            margin: 0;
            padding: 0;
        }

        .no-js {
            visibility: hidden;
        }

        /* Breathing animation */
        @keyframes gradientBreathing {
            0% {
                background-position: 50% 50%;
            }

            50% {
                background-position: 100% 0%;
            }

            100% {
                background-position: 50% 50%;
            }
        }

        .page-container {
            display: flex;
            width: 100vw;
            height: 100vh;
        }

        .left-side {
            width: 50%;
            height: 100%;
            display: flex;
            justify-content: flex-start;
            padding: 3em 0 0 2em;
            align-items: flex-start;
            border-right: 1px solid rgba(255, 255, 255, 0.1);
        }

        .right-side {
            width: 50%;
            height: 100%;
        }

        .content-wrapper {
            width: 80%;
            max-width: 600px;
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .header-wrapper {
            display: flex;
            flex-direction: row;
            justify-content: space-between;
            align-items: center;
            width: 100%;
        }

        .heading {
            color: var(--webfuse-white);
            font-size: 2.4rem;
            margin: 0;
        }

        .blue {
            color: var(--base-color-brand--blue);
        }

        .sub-heading {
            color: var(--webfuse-white);
            font-size: 1rem;
            margin: 0%;
            opacity: 1;
            font-weight: lighter;
        }

        .search-container {
            display: flex;
            flex-direction: row;
            justify-content: space-between;
            width: 100%;
            gap: 10px;
            opacity: 95%;
            align-items: center;
        }

        input[type="text"]:focus {
            outline: 1px solid var(--base-color-brand--blue);
        }

        input[type="text"]::placeholder {
            color: var(--base-color-brand--off-white);
            font-size: 1rem;
            opacity: 0.8;
        }

        input[type="text"]:focus::placeholder {
            opacity: 0.5;
            color: var(--base-color-brand--off-white);
        }

        input[type="text"] {
            background-color: transparent;
            color: var(--base-color-brand--off-white);
            outline: 1px solid var(--base-color-brand--blue);
            border: none;
            border-radius: 10px;
            width: 80%;
            min-width: 200px;
            max-width: 600px;
            height: 2rem;
            min-height: 2rem;
            margin-bottom: 0;
            padding: .1rem 1.2rem .1rem 1.2rem;
            font-size: 1rem;
            line-height: 1.6;
            ;
        }

        .buttons-container {
            overflow: visible;
            max-width: 100%;
            transition: max-width 0.5s ease-in-out, opacity 0.5s ease-in-out;
            transition: justify-content 0.5s ease-in-out;
        }

        .buttons-container button {
            color: var(--webfuse-offwhite);
            font-size: 1rem;
            white-space: nowrap;
            text-align: center;
            background-image: linear-gradient(144deg, #2e5bd5 10%, #64b8c1);
            border: 1.5px #8dbac8;
            border-radius: 50vw;
            padding: .75rem 1.25rem;
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            opacity: 1;
            transform: scaleX(1);
            transition: transform 0.5s ease-in,
                transform 0.5s ease-out,
                opacity 0.5s ease-in,
                opacity 0.5s ease-out;
        }

        .section-break {
            text-align: center;
            opacity: 100%;
            width: 100%;
        }

        .line {
            border: 0;
            border-top: 1px solid var(--base-color-brand--off-white);
            margin-bottom: 1rem;
            width: 100%;
            opacity: 5%;
        }

        .line-2 {
            border: 0;
            border-top: 1px solid var(--base-color-brand--off-white);
            margin-bottom: 1rem;
            width: 100%;
            opacity: 2%;
        }

        .line-3 {
            border: 0;
            border-top: 1px solid var(--base-color-brand--off-white);
            margin-top: .6rem;
            width: 60%;
            opacity: 3%;
        }

        .logo {
            position: fixed;
            top: 15%;
            left: 50%;
            /* Move the left edge to the middle */
            transform: translateX(-50%);
            /* Shift it back by half of its width */
            width: 5rem;
            height: auto;
            z-index: 10;
            filter: brightness(0) invert(1);
            opacity: 0%;
        }

        .link-container {
            display: flex;
            gap: 0.5rem 1rem;
            border-radius: 10px;
            justify-items: start;
            max-height: 20vh;
            width: auto;
            flex-direction: row;
            justify-content: center;
            align-items: center;
        }

        .link-button {
            padding: .5rem 1rem !important;
            font-size: .8rem !important;
            height: 1.5rem;
            /* Ensures same height */
            margin-left: 1em;
        }

        .link-container input,
        .link-container select {
            appearance: none;
            /* Remove default styling */
            -webkit-appearance: none;
            -moz-appearance: none;
            background-color: var(--base-color-brand--off-white);
            color: var(--base-color-neutral--neutral-darker);
            border: 1.5px solid var(--base-color-brand--light-gray);
            border-radius: var(--radius--radius-round);
            padding: .1rem 1.2rem .1rem 1.2rem;
            font-size: .7rem;
            min-width: unset;
            width: fit-content;
            min-height: unset;
            height: 1rem;
            /* Ensures same height */
            text-align: center;
            /* Ensures the text aligns with input */
            display: flex;
            align-items: center;
        }

        .link-container input {
            color: var(--base-color-neutral--neutral-darker);
        }

        .link-container input:focus,
        .link-container select:focus {
            outline: 1px solid var(--base-color-brand--blue);
        }

        .link-container input::placeholder,
        .link-container select::placeholder {
            color: var(--base-color-neutral--neutral);
            font-size: .7rem;
        }


        /* Add hover effect */
        .search-button:hover {
            opacity: 0.9;
            transform: scale(0.98);
        }

        label {
            text-align: right;
            display: flex;
            align-items: center;
            font-size: 0.7rem;
            height: 2rem;
            white-space: nowrap;
        }


        .dropdown-select {
            display: none;
        }

        /* Style the dropdown options */
        .dropdown-select option {
            background-color: var(--base-color-brand--dark);
            color: var(--base-color-brand--off-white);
            padding: 1rem;
            font-size: 0.9rem;
        }

        /* Style the dropdown when open */
        .dropdown-select:focus {
            outline: 1px solid var(--base-color-brand--blue);
            border-radius: var(--radius--radius-round);
        }

        /* Style hover state of options */
        .dropdown-select option:hover,
        .dropdown-select option:focus {
            background-color: var(--base-color-brand--blue);
            color: var(--base-color-brand--off-white);
        }

        /* Special styles for host name dropdown */
        .sub-heading .dropdown-select {
            display: inline-block;
            margin-left: 0.5rem;
            padding: 0.2rem 2rem 0.2rem 1rem;
            /* Adjusted padding for arrow */
            font-size: 0.9rem;
            opacity: 1;
            background-position: right 0.5rem top 50%;
            background-size: 0.5rem auto;
        }

        .generate-button {
            color: var(--webfuse-offwhite);
            font-size: 1rem;
            white-space: nowrap;
            text-align: center;
            background-image: linear-gradient(144deg, #025c36 10%, #027a48);
            border: 1.5px #8dbac8;
            border-radius: 50vw;
            padding: .75rem 1.25rem;
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            align-self: self-start;
            margin-bottom: 1rem;
            opacity: 1;
            transform: scaleX(1);
            transition: transform 0.5s ease-in,
                transform 0.5s ease-out,
                opacity 0.5s ease-in,
                opacity 0.5s ease-out;
        }

        .generate-button:hover {
            opacity: 0.9;
            transform: scale(0.98);
        }

        /* Toggle switch styles */
        .toggle-container {
            display: flex;
            gap: 2rem;
            width: 100%;
            margin: 1rem 0;
        }

        .toggle-wrapper {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .toggle-label {
            color: var(--base-color-brand--off-white);
            font-size: 0.9rem;
            opacity: 0.7;
        }

        .switch {
            position: relative;
            display: inline-block;
            width: 48px;
            height: 24px;
        }

        .switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }

        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: transparent;
            outline: 1px solid var(--base-color-brand--blue);
            transition: .4s;
            border-radius: 34px;
        }

        .slider:before {
            position: absolute;
            content: "";
            height: 18px;
            width: 18px;
            left: 3px;
            bottom: 3px;
            background-color: #ccc;
            transition: .4s;
            border-radius: 50%;
        }

        input:checked+.slider {
            background-color: var(--base-color-brand--blue);
            outline: none;
        }

        input:checked+.slider:before {
            transform: translateX(24px);
        }

        /* Add these new styles */
        .custom-select-wrapper {
            position: relative;
            display: flex;
            user-select: none;
            gap: 1rem;
        }

        .custom-select {
            position: relative;
            display: inline-block;
            min-width: 150px;
            /* Match minimum width */
        }

        .custom-select__trigger {
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 0.1rem;
            font-size: .9rem;
            background-color: transparent;
            color: var(--base-color-brand--blue);
            border: 1px solid var(--base-color-brand--blue);
            border-radius: 5px;
            cursor: pointer;
            opacity: 1;
            height: 2rem;
            transform: scaleX(1);
            transition: transform 0.5s ease-in, transform 0.5s ease-out, opacity 0.5s ease-in, opacity 0.5s ease-out;
            min-width: 60px;
        }

        .custom-select__trigger span {
            color: var(--base-color-brand--blue);
        }


        .custom-options {
            position: absolute;
            display: block;
            top: 100%;
            left: 0;
            right: 0;
            border: 2px solid var(--base-color-brand--blue);
            border-radius: 5px;
            background-color: var(--base-color-brand--dark);
            opacity: 0;
            visibility: hidden;
            pointer-events: none;
            z-index: 2;
            margin-top: 5px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.5);
            min-width: 150px;
            width: max-content;
        }

        .custom-select.open .custom-options {
            opacity: 1;
            visibility: visible;
            pointer-events: all;
            display: block !important;
            z-index: 1000;
        }

        .custom-option {
            position: relative;
            display: block;
            padding: 12px 22px;
            font-size: .8rem;
            font-weight: 400;
            color: var(--base-color-brand--off-white);
            cursor: pointer;
            background-color: var(--base-color-brand--dark);
            border-bottom: 1px solid rgba(255, 255, 255, 0.2);
            white-space: nowrap;
        }

        .custom-option:last-child {
            border-bottom: none;
        }

        .custom-option:hover {
            background-color: var(--base-color-brand--blue);
        }

        .custom-option.selected {
            color: var(--base-color-brand--off-white);
            background-color: var(--base-color-brand--blue);
        }

        .webinar-summary {
            padding: 2em 2em;
            color: var(--base-color-brand--off-white);
        }

        .webinar-summary h2 {
            font-size: 1.5rem;
            margin-bottom: 2rem;
            opacity: 0.9;
        }

        .summary-section {
            margin-bottom: 0;
            opacity: 0;
            transition: opacity 0.3s ease-in-out;
        }

        .summary-section.visible {
            opacity: 1;
        }

        .summary-section h3 {
            color: var(--base-color-brand--blue);
            font-size: 1.2rem;
            margin-bottom: .1rem;
            opacity: 0.7;
        }

        .summary-value {
            color: var(--base-color-brand--off-white);
            font-size: .8rem;
            padding: 0.5rem 0;
        }

        .tab-list {
            display: flex;
            flex-direction: row;
            flex-wrap: wrap;
            gap: 0.5rem;
            max-width: 100%;
            margin-top: 1em;
        }

        .tab-item,
        .presenter-item {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 6px 12px;
            background: var(--base-color-brand--dark);
            border-radius: 5px;
            margin-bottom: 8px;
            height: 32px;
            box-sizing: border-box;
            position: relative;
            width: 100%;
        }

        .tab-item:hover,
        .presenter-item:hover {
            box-shadow: 0 0 2px var(--base-color-brand--blue);
        }

        .tab-icon,
        .presenter-icon {
            display: flex;
            align-items: center;
            color: var(--base-color-brand--off-white);
            flex-shrink: 0;
        }

        .tab-icon svg,
        .presenter-icon svg {
            width: 1.5em;
            height: 1.5em;
        }

        .tab-details,
        .presenter-details {
            display: flex;
            flex-direction: column;
            justify-content: center;
            line-height: 1.2;
            margin-right: 32px;
            min-width: 0;
            flex: 1;
        }

        .tab-url,
        .presenter-name {
            color: var(--base-color-brand--off-white);
            font-size: 14px;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            display: block;
            width: 100%;
        }

        .presenter-email {
            color: var(--base-color-brand--blue);
            font-size: 12px;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .tab-item-scrim {
            background-image: linear-gradient(90deg, #0000, #0b0b0b7a);
            border-radius: 50vh;
            position: absolute;
            inset: 0%;
            z-index: 1;
            /* Keep scrim below other elements */
            pointer-events: none;
            /* Make sure it doesn't interfere with clicks */
        }

        .remove-tab,
        .remove-presenter {
            background: none;
            border: none;
            padding: 0;
            cursor: pointer;
            color: var(--base-color-brand--off-white);
            opacity: 0.7;
            display: flex;
            align-items: center;
            justify-content: center;
            width: 14px;
            height: 14px;
            min-width: 14px;
            position: absolute;
            right: 12px;
            top: 50%;
            transform: translateY(-50%);
            flex-shrink: 0;
        }

        .tab-item:hover .remove-tab,
        .presenter-item:hover .remove-presenter {
            display: inline;
        }

        .remove-tab:hover,
        .remove-presenter:hover {
            opacity: 1;
        }

        .remove-tab:focus,
        .remove-presenter:focus {
            outline: none;
        }

        .generate-button-container {
            margin-top: 2rem;
            opacity: 0;
            transition: opacity 0.3s ease-in-out;
        }

        .generate-button-container.visible {
            opacity: 1;
        }

        .webinar-summary {
            position: relative;
            min-height: 100%;
            display: flex;
            flex-direction: column;
        }

        .generate-button-container {
            margin-top: auto;
            padding-bottom: 2rem;
        }

        .multiple-presenters-section {
            opacity: 1 !important;
            /* Override the default hidden state */
            display: block !important;
            /* Always show this section */
        }

        .additional-presenters {
            width: 100%;
            margin-top: 1rem;
        }

        .presenter-inputs,
        .search-container {
            display: flex;
            gap: 10px;
            margin-bottom: 1rem;
            align-items: flex-start;
        }

        .presenter-inputs input,
        .presenter-inputs button,
        .search-container input,
        .search-container button {
            height: 40px;
            padding: 0 12px;
            box-sizing: border-box;
            line-height: 40px;
        }

        .presenter-inputs button,
        .search-container button {
            display: flex;
            align-items: center;
            justify-content: center;
            white-space: nowrap;
        }

        #urlInput,
        #presenterName,
        #presenterEmail {
            flex: 1;
            min-width: 0;
        }

        button {
            color: var(--webfuse-offwhite);
            font-size: 1rem;
            white-space: nowrap;
            text-align: center;
            min-width: 9rem;
            background-color: transparent;
            color: var(--base-color-brand--blue);
            border: 1px solid var(--base-color-brand--blue);
            border-radius: 5px;
            padding: .75rem 1.25rem;
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
        }

        .presenter-list {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
            margin-top: 1rem;
        }

        .presenter-item {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 6px 12px;
            background: var(--base-color-brand--dark);
            border-radius: 5px;
            margin-bottom: 8px;
            height: 32px;
            box-sizing: border-box;
        }

        .presenter-icon {
            display: flex;
            align-items: center;
            color: var(--base-color-brand--off-white);
        }

        .presenter-details {
            display: flex;
            flex-direction: column;
            justify-content: center;
            line-height: 1.2;
        }

        .presenter-name {
            color: var(--base-color-brand--off-white);
            font-size: 14px;
        }

        .presenter-email {
            color: var(--base-color-brand--blue);
            font-size: 12px;
        }

        .remove-presenter {
            background: none;
            border: none;
            padding: 0;
            margin-left: auto;
            cursor: pointer;
            color: var(--base-color-brand--off-white);
            opacity: 0.7;
            display: flex;
            align-items: center;
            justify-content: center;
            width: 14px;
            height: 14px;
            min-width: 14px;
        }

        .remove-presenter:hover {
            opacity: 1;
        }

        .remove-presenter:focus {
            outline: none;
        }

        /* Add this after the multiple-presenters-section div in the right panel */
        .additional-presenters-section {
            margin-top: -1rem;
            margin-bottom: 2rem;
        }

        .presenter-list-summary {
            display: flex;
            flex-direction: row;
            flex-wrap: wrap;
            gap: 0.5rem;
            margin-top: 1rem;
        }

        .multiple-presenters-section .presenter-item {
            margin-top: 0.5rem;
        }

        .webinar-links-section {
            margin-top: 2rem;
            width: 100%;
        }

        .webinar-links-section h2 {
            color: var(--base-color-brand--off-white);
            font-size: 1.5rem;
            margin-bottom: 1rem;
            opacity: 0.9;
        }

        .link-item {
            margin-bottom: 1.5rem;
        }

        .link-item h3 {
            color: var(--base-color-brand--off-white);
            font-size: 1rem;
            margin-bottom: 0.5rem;
            opacity: 0.7;
        }

        .link-content {
            display: flex;
            gap: 1rem;
            align-items: center;
            background-color: var(--base-color-brand--dark);
            padding: 0.75rem 1rem;
            border-radius: var(--radius--radius-round);
        }

        .link-url {
            color: var(--base-color-brand--light-gray);
            font-size: 0.9rem;
            flex: 1;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
        }

        .copy-link {
            color: var(--webfuse-offwhite);
            font-size: 0.9rem;
            white-space: nowrap;
            text-align: center;
            background-image: linear-gradient(144deg, #2e5bd5 10%, #64b8c1);
            border: none;
            border-radius: 50vw;
            padding: 0.5rem 1rem;
            cursor: pointer;
            transition: opacity 0.2s ease-in-out;
        }

        .copy-link:hover {
            opacity: 0.9;
        }

        .preload-tabs-section {
            opacity: 1 !important;
            /* Override the default hidden state */
            display: block !important;
            /* Always show this section */
        }

        .preload-tabs-section h3 {
            font-size: 1.2rem;
            margin-bottom: .1rem;
            opacity: 0.7;
        }

        .preload-tabs-section .summary-value {
            color: var(--base-color-brand--blue);
            padding: 0.5rem 0;
            font-size: .8rem;
        }

        .starting-tabs-section {
            opacity: 1 !important;
            display: block !important;
        }

        .starting-tabs-section h3 {
            font-size: 1.2rem;
            margin-bottom: .1rem;
            opacity: 0.7;
        }


        .section-heading {
            color: var(--base-color-brand--off-white);
            font-size: 1rem;
            margin: 0;
            opacity: 0.5;
        }
    </style>
</head>

<body class="no-js">
    <img class="logo"
        src="https://github.com/JSPOON3R/JSPOON3R.github.io/blob/main/resources-common/icons/webfuse-icon-white.png?raw=true"
        alt="Logo">
    <div class="page-container">
        <div class="left-side">
            <div class="content-wrapper">
                <div class="header-wrapper">
                    <h1 class="heading">Webinar <span class="blue">Create</span></h1>
                    <div class="custom-select">
                        <div class="custom-select__trigger">
                            <span>Select Space</span>
                        </div>
                        <div class="custom-options">
                            <span class="custom-option" data-value="1">Webinar Basic</span>
                            <span class="custom-option" data-value="2">Product Introduction</span>
                            <span class="custom-option" data-value="3">How-to Tutorial</span>
                            <span class="custom-option" data-value="4">Sales Demo</span>
                            <span class="custom-option" data-value="5">Technical Support</span>
                            <span class="custom-option" data-value="6">Customer Training</span>
                        </div>
                    </div>
                </div>
                <div class="toggle-container">
                    <div class="toggle-wrapper">
                        <span class="toggle-label">Add Starting Tabs</span>
                        <label class="switch">
                            <input type="checkbox" id="starting-tabs-toggle">
                            <span class="slider round"></span>
                        </label>
                    </div>
                </div>
                <div class="additional-presenters" style="display: none;">
                    <div class="presenter-inputs">
                        <input type="text" placeholder="Name" id="presenterName" />
                        <input type="text" placeholder="Email" id="presenterEmail" />
                        <button id="add-presenter-button">Add Host</button>
                    </div>
                </div>
                <div class="search-container">
                    <input type="text" placeholder="http://..." autofocus id="urlInput" />
                    <button id="search-button">Add Tab</button>
                </div>
            </div>
        </div>
        <div class="right-side">
            <div class="webinar-summary">
                <div class="summary-section presenter-section" style="display: none;">
                    <h3>Presenter</h3>
                    <div class="summary-value">Not selected</div>
                </div>
                <div class="summary-section template-section" style="display: none;">
                    <h3>Template</h3>
                    <div class="summary-value">Not selected</div>
                </div>
                <div class="summary-section starting-tabs-section">
                    <h3>Starting Tabs</h3>
                    <div class="summary-value">These pages will open when you join the webinar</div>
                    <div class="tab-list"></div>
                </div>
                <div class="summary-section multiple-presenters-section">
                    <h3>Multiple Presenters</h3>
                    <div class="summary-value">Individual host links will be generated for those added</div>
                    <div class="presenter-list-summary">
                        <!-- Additional presenters will be added here -->
                    </div>
                </div>
                <div class="generate-button-container" style="display: none;">
                    <button class="generate-button">Generate Webinar</button>
                </div>
            </div>
        </div>
    </div>

    <script>

        let spaceId;
        let widgetKey;
        let sessionId;
        let leaderLink;
        let followerLink;
        let HostLinks = {};
        let hostMagicLink;
        let noHostMagicLink;
        let baseUrl = "https://surfly.online/";
        let pin;
        let restKey = "rk_kTl1q1NNyGqztFnlvtZ0J8TzrOGU_xeE";
        let hostPayload = {
            space_id: spaceId,
            name: "John",
            email: "placeholder@placeholder.com",
            can_host: true,
            urls: []
        };
        let Guestpayload = {
            space_id: spaceId,
            name: "Guest",
            email: "placeholder@placeholder.com",
            can_host: false,
            urls: []
        };


        const johnSettings = {
            spaceId: 502,
            widgetKey: 'wk_5znkrZbkr0an_N_Bswoh71aF_ORxwrhY'
        }


        // Update the generate button click handler
        document.querySelector('.generate-button').addEventListener('click', function () {

            if (widgetKey && spaceId) {
                startWebfuse();
            }
        });

        async function generateMagicLink() {
            console.log('Generating magic links');
            const REST_KEY = restKey;

            // Update space_id in both payloads
            hostPayload.space_id = spaceId;
            Guestpayload.space_id = spaceId;

            // Create the JWT header
            const header = {
                alg: "HS256",
                typ: "JWT"
            };

            // Function to encode to Base64 URL format
            const base64UrlEncode = (input) => {
                return btoa(JSON.stringify(input))
                    .replace(/=+$/, '')
                    .replace(/\+/g, '-')
                    .replace(/\//g, '_');
            };

            try {
                // Generate Host Link
                const jwtHeader = base64UrlEncode(header);
                const hostJwtPayload = base64UrlEncode(hostPayload);
                const guestJwtPayload = base64UrlEncode(Guestpayload);

                const encoder = new TextEncoder();
                const keyData = encoder.encode(REST_KEY);

                const key = await window.crypto.subtle.importKey(
                    "raw",
                    keyData,
                    {
                        name: "HMAC",
                        hash: { name: "SHA-256" }
                    },
                    false,
                    ["sign"]
                );

                // Generate host signature
                const hostSignatureInput = `${jwtHeader}.${hostJwtPayload}`;
                const hostSignature = await window.crypto.subtle.sign(
                    "HMAC",
                    key,
                    encoder.encode(hostSignatureInput)
                );

                // Generate guest signature
                const guestSignatureInput = `${jwtHeader}.${guestJwtPayload}`;
                const guestSignature = await window.crypto.subtle.sign(
                    "HMAC",
                    key,
                    encoder.encode(guestSignatureInput)
                );

                // Convert signatures to Base64 URL format
                const hostJwtSignature = btoa(String.fromCharCode(...new Uint8Array(hostSignature)))
                    .replace(/=+$/, '')
                    .replace(/\+/g, '-')
                    .replace(/\//g, '_');

                const guestJwtSignature = btoa(String.fromCharCode(...new Uint8Array(guestSignature)))
                    .replace(/=+$/, '')
                    .replace(/\+/g, '-')
                    .replace(/\//g, '_');

                // Assemble the JWTs
                const hostJWT = `${jwtHeader}.${hostJwtPayload}.${hostJwtSignature}`;
                const guestJWT = `${jwtHeader}.${guestJwtPayload}.${guestJwtSignature}`;

                // Create the final magic links
                hostMagicLink = `https://surfly.online/+webinar-template/?magic_link=${hostJWT}&session_id=${sessionId}`;
                noHostMagicLink = `https://surfly.online/+webinar-template/?magic_link=${guestJWT}&session_id=${sessionId}`;

                console.log('Magic Links generated:', { hostMagicLink, noHostMagicLink });
                showWebinarLinks();
            } catch (error) {
                console.error('Error generating magic links:', error);
            }
        }

        function showWebinarLinks() {
            // Create webinar links section
            const linksSection = document.createElement('div');
            linksSection.className = 'webinar-links-section';
            linksSection.innerHTML = `
                <h2>Webinar Links</h2>
                <div class="link-item">
                    <h3>Host Link</h3>
                    <div class="link-content">
                        <span class="link-url">${hostMagicLink}</span>
                        <button class="copy-link">Copy</button>
                    </div>
                </div>
                <div class="link-item">
                    <h3>Guest Link</h3>
                    <div class="link-content">
                        <span class="link-url">${noHostMagicLink}</span>
                        <button class="copy-link trigger-webinar">Go Live</button>
                        <button class="copy-link">Copy</button>
                    </div>
                </div>
            `;

            // Add click handlers for copy buttons
            linksSection.querySelectorAll('.copy-link').forEach(button => {
                button.addEventListener('click', function () {
                    const linkText = this.previousElementSibling.textContent;

                    // Create a temporary textarea element
                    const textarea = document.createElement('textarea');
                    textarea.value = linkText;
                    textarea.style.position = 'fixed';  // Prevent scrolling to bottom
                    document.body.appendChild(textarea);
                    textarea.select();

                    if (this.classList.contains('trigger-webinar')) {
                        const channel = new BroadcastChannel("webinar_channel");
                        const webinarURL = linkText;
                        const timestamp = Date.now();
                        console.log("Broadcasting webinar URL:", webinarURL);
                        // Send via BroadcastChannel (Same browser)
                        channel.postMessage({ type: "UPDATE_IFRAME", url: webinarURL, timestamp });

                    } else {
                        try {
                            document.execCommand('copy');
                            button.textContent = 'Copied!';
                            setTimeout(() => button.textContent = 'Copy', 2000);
                        } catch (err) {
                            console.error('Failed to copy text:', err);
                            button.textContent = 'Failed to copy';
                            setTimeout(() => button.textContent = 'Copy', 2000);
                        }

                        // Clean up
                        document.body.removeChild(textarea);
                    };
                })
            });

            // Find the additional presenters section and insert the links section after it
            const additionalPresenters = document.querySelector('.additional-presenters');
            additionalPresenters.insertAdjacentElement('afterend', linksSection);
        }


        //Webfuse JS
        function startWebfuse() {
            (function (w, e, b, f, u, s) {
                w[f] = w[f] || {
                    initSpace: function () {
                        return new Promise(resolve => {
                            w[f].q = arguments;
                            w[f].resolve = resolve;
                        });
                    },
                };
                u = e.createElement(b);
                s = e.getElementsByTagName(b)[0];
                u.async = 1;
                u.src = 'https://surfly.online/surfly.js';
                s.parentNode.insertBefore(u, s);
            })(window, document, 'script', 'Webfuse');

            console.log(widgetKey, spaceId);

            window.Webfuse.initSpace(
                widgetKey,
                spaceId,
                {},
            ).then(async (space) => {
                const session = space.session();
                session.create().then(() => {
                    console.log(session);
                    sessionId = session._sessionId;
                    leaderLink = session.leaderLink;
                    followerLink = session.followerLink;
                    pin = session.pin;
                    generateMagicLink();
                }).catch(error => {
                    console.error('Failed:', error);
                });
            });

        }

        // Remove no-js class on page load
        document.addEventListener("DOMContentLoaded", function () {
            requestAnimationFrame(() => {
                document.body.classList.remove("no-js");
            });
        });


        // Custom dropdown functionality
        document.addEventListener("DOMContentLoaded", function () {
            document.querySelectorAll('.custom-select').forEach(select => {
                const trigger = select.querySelector('.custom-select__trigger');
                const options = select.querySelector('.custom-options');

                // Toggle dropdown
                trigger.addEventListener('click', () => {
                    // Close all other dropdowns first
                    document.querySelectorAll('.custom-select.open').forEach(openSelect => {
                        if (openSelect !== select) {
                            openSelect.classList.remove('open');
                        }
                    });
                    select.classList.toggle('open');
                });

                // Select option
                select.querySelectorAll('.custom-option').forEach(option => {
                    option.addEventListener('click', () => {
                        if (!option.classList.contains('selected')) {
                            console.log("1");
                            const selected = select.querySelector('.custom-option.selected');
                            if (selected) selected.classList.remove('selected');
                            option.classList.add('selected');
                            trigger.querySelector('span').textContent = option.textContent;

                            // Get the trigger text to determine which dropdown this is
                            const triggerText = trigger.querySelector('span').textContent;


                            if (option.dataset.value === "1") {
                                console.log("2");
                                spaceId = johnSettings.spaceId;
                                widgetKey = johnSettings.widgetKey;
                            }
                            const templateSection = document.querySelector('.template-section');
                            const templateValue = document.querySelector('.template-section .summary-value');
                            templateValue.textContent = "Webinar Basic";
                            templateSection.style.display = "block";
                            templateSection.style.opacity = 1;

                            checkAllSectionsAndShowGenerate();
                        }
                        select.classList.remove('open');
                    });
                });
            });

            // Close when clicking outside
            document.addEventListener('click', (e) => {
                if (!e.target.closest('.custom-select')) {
                    document.querySelectorAll('.custom-select.open').forEach(select => {
                        select.classList.remove('open');
                    });
                }
            });
        });

        function checkAllSectionsAndShowGenerate() {
            const templateVisible = document.querySelector('.template-section').style.display !== 'none';

            const generateContainer = document.querySelector('.generate-button-container');

            // Show generate button if either presenter or template is selected
            if (templateVisible) {
                generateContainer.style.display = 'block';
                setTimeout(() => {
                    generateContainer.classList.add('visible');
                }, 50);
            } else {
                generateContainer.style.display = 'none';
                generateContainer.classList.remove('visible');
            }
        }

        function updateSummarySection(type, value) {
            const section = document.querySelector(`.${type}-section`);
            if (!section) return;

            section.style.display = 'block';
            const valueElement = section.querySelector('.summary-value');
            if (valueElement) {
                valueElement.textContent = value;
            }

            setTimeout(() => {
                section.classList.add('visible');
            }, 50);

            checkAllSectionsAndShowGenerate();
        }

        document.querySelector('#search-button').addEventListener('click', function () {
            const urlInput = document.getElementById('urlInput');
            const url = urlInput.value.trim();

            if (url) {
                addTab(url);
                urlInput.value = ''; // Clear input
            }
        });

        function addTab(url) {
            const tabList = document.querySelector('.starting-tabs-section .tab-list');
            const startingTabsValue = document.querySelector('.starting-tabs-section .summary-value');

            // Hide the summary value and show the tab list
            startingTabsValue.style.display = 'none';

            // Update starting tabs value when a tab is added
            startingTabsValue.textContent = 'Yes';

            const tabItem = document.createElement('div');
            tabItem.className = 'tab-item';
            tabItem.innerHTML = `<div class="tab-icon">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm-5 14H4v-4h11v4zm0-5H4V9h11v4zm5 5h-4V9h4v9z" fill="currentColor"/>
                </svg>
            </div>
            <div class="tab-details">
                <span class="tab-url">${url}</span>
            </div>
            <button class="remove-tab" title="Remove tab">
                <svg width="14" height="14" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M19 6.41L17.59 5L12 10.59L6.41 5L5 6.41L10.59 12L5 17.59L6.41 19L12 13.41L17.59 19L19 17.59L13.41 12L19 6.41Z" fill="currentColor"/>
                </svg>
            </button>`;

            // Add click handler for remove button
            const removeButton = tabItem.querySelector('.remove-tab');
            removeButton.addEventListener('click', function (e) {
                e.stopPropagation();
                tabItem.remove();

                if (tabList.children.length === 0) {
                    startingTabsValue.style.display = 'block';
                    startingTabsValue.textContent = 'Add your Tabs';
                    checkAllSectionsAndShowGenerate();
                }
            });

            tabList.appendChild(tabItem);
            checkAllSectionsAndShowGenerate();
        }

        // Update the DOMContentLoaded event listener
        document.addEventListener("DOMContentLoaded", function () {
            // Hide all summary sections initially
            document.querySelectorAll('.summary-section').forEach(section => {
                section.style.display = 'none';
            });
        });

        // Update the toggle change event listener
        document.addEventListener("DOMContentLoaded", function () {
            // Hide URL input and button initially
            const searchContainer = document.querySelector('.search-container');
            searchContainer.style.display = 'none';

            // Get tabs toggle switch
            const startingTabsToggle = document.querySelector('#starting-tabs-toggle');

            // Show presenter inputs by default
            const additionalPresenters = document.querySelector('.additional-presenters');
            additionalPresenters.style.display = 'block';
            const multiplePresentersValue = document.querySelector('.multiple-presenters-section .summary-value');
            multiplePresentersValue.textContent = 'Add Presenters';

            startingTabsToggle.addEventListener('change', function (e) {
                console.log('Starting tabs toggle changed:', this.checked);

                const startingTabsValue = document.querySelector('.starting-tabs-section .summary-value');
                const tabList = document.querySelector('.starting-tabs-section .tab-list');
                startingTabsValue.textContent = this.checked ? 'Add your Tabs' : 'No';
                startingTabsValue.style.display = 'block';

                // Show/hide URL input and button
                searchContainer.style.display = this.checked ? 'flex' : 'none';

                // Clear and hide tabs when toggle is turned off
                if (!this.checked) {
                    while (tabList.firstChild) {
                        tabList.removeChild(tabList.firstChild);
                    }
                }
            });
        });

        // Add presenter functionality
        document.querySelector('#add-presenter-button').addEventListener('click', function () {
            const nameInput = document.getElementById('presenterName');
            const emailInput = document.getElementById('presenterEmail');

            const name = nameInput.value.trim();
            const email = emailInput.value.trim();

            if (name && email) {
                addPresenter(name, email);
                nameInput.value = '';
                emailInput.value = '';
            }
        });

        function addPresenter(name, email) {
            const multiplePresentersValue = document.querySelector('.multiple-presenters-section .summary-value');
            const multiplePresentersSection = document.querySelector('.multiple-presenters-section');
            const presenterList = multiplePresentersSection.querySelector('.presenter-list') ||
                (() => {
                    const list = document.createElement('div');
                    list.className = 'presenter-list';
                    multiplePresentersSection.appendChild(list);
                    return list;
                })();

            // Keep the inputs visible but hide the summary value
            multiplePresentersValue.style.display = 'none';

            const presenterItem = document.createElement('div');
            presenterItem.className = 'presenter-item';
            presenterItem.innerHTML = `
                <div class="presenter-icon">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M12 12C14.21 12 16 10.21 16 8C16 5.79 14.21 4 12 4C9.79 4 8 5.79 8 8C8 10.21 9.79 12 12 12ZM12 14C9.33 14 4 15.34 4 18V20H20V18C20 15.34 14.67 14 12 14Z" fill="currentColor"/>
                    </svg>
                </div>
                <div class="presenter-details">
                    <div class="presenter-name">${name}</div>
                    <div class="presenter-email">${email}</div>
                </div>
                <button class="remove-presenter" title="Remove presenter">
                    <svg width="14" height="14" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M19 6.41L17.59 5L12 10.59L6.41 5L5 6.41L10.59 12L5 17.59L6.41 19L12 13.41L17.59 19L19 17.59L13.41 12L19 6.41Z" fill="currentColor"/>
                    </svg>
                </button>
            `;

            // Show the section if it's not already visible
            multiplePresentersSection.style.display = 'block';
            multiplePresentersSection.classList.add('visible');

            presenterList.appendChild(presenterItem);

            // Add remove functionality
            const removeButton = presenterItem.querySelector('.remove-presenter');
            removeButton.addEventListener('click', function () {
                presenterItem.remove();
                if (presenterList.children.length === 0) {
                    // Show the summary value again when all presenters are removed
                    multiplePresentersValue.style.display = 'block';
                    multiplePresentersValue.textContent = 'No';
                    multiplePresentersSection.classList.remove('visible');
                    presenterList.remove();
                }
            });

            checkAllSectionsAndShowGenerate();
        }

    </script>

</body>

</html>