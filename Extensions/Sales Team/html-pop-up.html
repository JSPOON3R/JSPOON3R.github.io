<script>
    //BUTTONS
    function shareScreen() {
        surflyExtension.surflySession.apiRequest({ cmd: "start_screensharing" });
    }

    function maskingDemo() {
        surflyExtension.surflySession.apiRequest({
            cmd: 'open_tab',
            url: "demo.surfly.com/masking"
        });
    }

    function cobroVsSS() {
        surflyExtension.surflySession.apiRequest({
            cmd: 'open_tab',
            url: "https://nicholas-gh.surfly.com/hyperspace.html"
        });
    }

    function openHelp() {
        surflyExtension.surflySession.apiRequest({
            cmd: 'open_tab',
            url: "help.surfly.com"
        });
    }

    function openDocs() {
        surflyExtension.surflySession.apiRequest({
            cmd: 'open_tab',
            url: "docs.surfly.com"
        });
    }

    function openGuide() {
        surflyExtension.surflySession.apiRequest({
            cmd: 'open_tab',
            url: "demo.surfly.com/guide"
        });
    }

    var veryImportantButton = document.getElementById("veryImportantButton");

    surflyExtension.runtime.onMessage.addListener((request) => {
        console.log(request)
        if (request.type === "hide_button") {
            window.top.document.getElementById("veryImportantButton").style.display = "none";
        }
        if (request.type === "show_button") {
            window.top.document.getElementById("veryImportantButton").style.display = "inline";
        }
    });
</script>

<link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;700&display=swap" rel="stylesheet">
<div id="popup" class="popup">
    <h1>Custom Extension</h1>
    <div class="popup-content">
        <div class="buttons-left">
            <button class="popup-btn-r" onclick="shareScreen() ">Share Screen</button>
            <button class="popup-btn-r" onclick="maskingDemo() ">Masking</button>
            <button class="popup-btn-r" onclick="cobroVsSS() ">Cobro vs SS</button>
        </div>
        <div class="buttons-right">
            <button class="popup-btn-l" onclick="openHelp() ">Help</button>
            <button class="popup-btn-l" onclick="openDocs() ">Technical</button>
            <button class="popup-btn-l" onclick="openGuide() ">Guide</button>
        </div>
    </div>
</div>

<style>
    .popup {
        background-color: none;
        text-align: center;
        font-family: 'Nunito', sans-serif;
        overflow: block;
    }

    .popup-content {
        width: 100%;
        height: 90%;
        display: flex;
        flex-direction: row;
        justify-content: space-around;
    }

    .buttons-left {
        display: flex;
        flex-direction: column;
        justify-content: center;
        width: 45%;
        height: 100%;
    }

    .buttons-right {
        display: flex;
        flex-direction: column;
        justify-content: center;
        width: 45%;
        height: 100%;
    }

    h1 {
        color: #4d4d4d;
        font-size: 1.5rem;
        margin-bottom: 2px;
    }

    .popup-btn-l {
        background-color: #166e8e;
        width: 100%;
        color: #eff0f0;
        border: none;
        padding: 5px 10px;
        margin-bottom: 7px;
        font-size: 1rem;
        border-radius: 8px;
        cursor: pointer;
        transition: background-color 0.3s;
        margin-left: 2px;
    }

    .popup-btn-r {
        background-color: #e54747;
        width: 100%;
        color: #eff0f0;
        border: none;
        padding: 5px 10px;
        margin-bottom: 7px;
        font-size: 1rem;
        border-radius: 8px;
        cursor: pointer;
        transition: background-color 0.3s;
        margin-right: 2px;
    }

    .popup-btn-c {
        background-color: #4d4d4d;
        width: 100%;
        color: #eff0f0;
        border: none;
        padding: 5px 10px;
        margin-bottom: 7px;
        margin-top: 7px;
        font-size: 1rem;
        border-radius: 8px;
        cursor: pointer;
        transition: background-color 0.3s;
        margin-right: 2px;
    }

    .popup-btn:hover {
        background-color: #c72323;
    }
</style>